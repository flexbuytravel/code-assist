<!DOCTYPE html>
<html>
  <head>
    <title>Flappy Bird</title>
  </head>
  <body>
    <canvas id="gameCanvas"></canvas>
    <script>
      var gameCanvas = document.getElementById("gameCanvas");
      var ctx = gameCanvas.getContext("2d");
      
      // Set the canvas dimensions to fill the page
      gameCanvas.width = window.innerWidth;
      gameCanvas.height = window.innerHeight;
      
      // Define the bird's starting position and velocity
      var birdX = 100;
      var birdY = 200;
      var birdVelocity = 5;
      
      // Define the obstacles (pipes)
      var pipeWidth = 80;
      var pipeHeight = 300;
      var pipeGap = 150;
      var pipes = [];
      
      // Set the score and game over state
      var score = 0;
      var gameOver = false;
      
      // Draw the background
      function drawBackground() {
        ctx.fillStyle = "#76d1f8";
        ctx.fillRect(0, 0, gameCanvas.width, gameCanvas.height);
      }
      
      // Draw the bird
      function drawBird() {
        ctx.fillStyle = "#ffa53b";
        ctx.beginPath();
        ctx.arc(birdX, birdY, 20, 0, Math.PI * 2);
        ctx.closePath();
        ctx.fill();
      }
      
      // Draw the pipes
      function drawPipes() {
        for (var i = 0; i < pipes.length; i++) {
          var pipeX = pipes[i].x;
          var pipeY = pipes[i].y;
          
          ctx.fillStyle = "#62a13d";
          ctx.beginPath();
          ctx.moveTo(pipeX, pipeY);
          ctx.lineTo(pipeX + pipeWidth, pipeY);
          ctx.lineTo(pipeX + pipeWidth, pipeY + pipeHeight);
          ctx.lineTo(pipeX, pipeY + pipeHeight);
          ctx.closePath();
          ctx.fill();
        }
      }
      
      // Draw the score
      function drawScore() {
        ctx.font = "24px Arial";
        ctx.textBaseline = "top";
        ctx.fillStyle = "#000";
        ctx.fillText("Score: " + score, 10, 10);
      }
      
      // Update the game state
      function updateGameState() {
        // Move the bird
        if (gameOver) return;
        
        birdY += birdVelocity;
        
        // Check for collision with pipes
        for (var i = 0; i < pipes.length; i++) {
          var pipeX = pipes[i].x;
          var pipeY = pipes[i].y;
          
          if (birdX + 20 >= pipeX && birdX <= pipeX + pipeWidth) {
            gameOver = true;
            return;
          }
        }
        
        // Add a new pipe if necessary
        if (Math.random() < 0.1) {
          pipes.push({ x: gameCanvas.width, y: Math.floor(Math.random() * (gameCanvas.height - pipeHeight)) });
        }
      }
      
      // Draw the game elements
      function drawGame() {
        drawBackground();
        drawBird();
        drawPipes();
        drawScore();
      }
      
      // Update the game state and draw the game elements
      function updateAndDraw() {
        updateGameState();
        drawGame();
        
        // Request another frame
        requestAnimationFrame(updateAndDraw);
      }
      
      // Start the game loop
      updateAndDraw();
    </script>
  </body>
</html>